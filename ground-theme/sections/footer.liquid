{%- comment -%}
  GROUND - Footer Section
  Features: Newsletter, links, social media, copyright
{%- endcomment -%}

<footer class="footer" data-section-id="{{ section.id }}">
  <div class="container">
    <div class="footer-grid">
      <!-- Brand Column -->
      <div class="footer-brand">
        <a href="{{ routes.root_url }}" class="footer-logo">
          {%- if section.settings.logo != blank -%}
            <img
              src="{{ section.settings.logo | image_url: width: 200 }}"
              alt="{{ shop.name }}"
              width="120"
              height="auto"
            >
          {%- else -%}
            <span class="footer-logo-text">( {{ shop.name }} )</span>
          {%- endif -%}
        </a>
        <p>{{ section.settings.description | default: 'Take back control of your focus with the device that actually works.' }}</p>
      </div>

      <!-- Links Columns -->
      {%- for block in section.blocks -%}
        {%- if block.type == 'link_list' -%}
          <div class="footer-column">
            <h4>{{ block.settings.heading }}</h4>
            <ul class="footer-links">
              {%- for link in block.settings.menu.links -%}
                <li><a href="{{ link.url }}">{{ link.title }}</a></li>
              {%- endfor -%}
            </ul>
          </div>
        {%- endif -%}
      {%- endfor -%}

      <!-- Newsletter -->
      <div class="footer-newsletter">
        <h4>{{ section.settings.newsletter_heading | default: 'Get Updates' }}</h4>
        <p>{{ section.settings.newsletter_text | default: 'Productivity tips and Ground news.' }}</p>
        {%- form 'customer', class: 'footer-newsletter-form' -%}
          <input type="hidden" name="contact[tags]" value="newsletter">
          <input
            type="email"
            name="contact[email]"
            placeholder="{{ section.settings.newsletter_placeholder | default: 'Enter your email' }}"
            required
          >
          <button type="submit">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
        {%- endform -%}
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. All rights reserved.</p>

      <div class="footer-legal">
        {%- for link in section.settings.legal_menu.links -%}
          <a href="{{ link.url }}">{{ link.title }}</a>
        {%- endfor -%}
      </div>

      <div class="footer-social">
        {%- if section.settings.social_instagram != blank -%}
          <a href="{{ section.settings.social_instagram }}" target="_blank" rel="noopener" aria-label="Instagram">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
              <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
              <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
            </svg>
          </a>
        {%- endif -%}
        {%- if section.settings.social_twitter != blank -%}
          <a href="{{ section.settings.social_twitter }}" target="_blank" rel="noopener" aria-label="Twitter">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
            </svg>
          </a>
        {%- endif -%}
        {%- if section.settings.social_tiktok != blank -%}
          <a href="{{ section.settings.social_tiktok }}" target="_blank" rel="noopener" aria-label="TikTok">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
            </svg>
          </a>
        {%- endif -%}
      </div>
    </div>
  </div>
</footer>

<style>
  .footer {
    background: var(--black);
    color: var(--white);
    padding: 5rem 0 2rem;
  }

  .footer-grid {
    display: grid;
    grid-template-columns: 1.5fr 1fr 1fr 1.5fr;
    gap: 4rem;
    margin-bottom: 4rem;
  }

  .footer-logo {
    display: inline-block;
    margin-bottom: 1rem;
    text-decoration: none;
  }

  .footer-logo img {
    height: 32px;
    width: auto;
    filter: brightness(0) invert(1);
  }

  .footer-logo-text {
    font-family: var(--font-display);
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--white);
  }

  .footer-brand p {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9375rem;
    line-height: 1.7;
    max-width: 280px;
  }

  .footer-column h4,
  .footer-newsletter h4 {
    font-size: 0.8125rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 1.5rem;
    color: rgba(255, 255, 255, 0.4);
  }

  .footer-links {
    list-style: none;
  }

  .footer-links li {
    margin-bottom: 0.75rem;
  }

  .footer-links a {
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
    font-size: 0.9375rem;
    transition: color 0.2s ease;
  }

  .footer-links a:hover {
    color: var(--white);
  }

  .footer-newsletter p {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9375rem;
    margin-bottom: 1rem;
  }

  .footer-newsletter-form {
    display: flex;
    gap: 0.5rem;
  }

  .footer-newsletter-form input {
    flex: 1;
    padding: 0.875rem 1rem;
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.05);
    color: var(--white);
    font-size: 0.9375rem;
    transition: border-color 0.2s ease;
  }

  .footer-newsletter-form input:focus {
    outline: none;
    border-color: rgba(255, 255, 255, 0.3);
  }

  .footer-newsletter-form input::placeholder {
    color: rgba(255, 255, 255, 0.4);
  }

  .footer-newsletter-form button {
    padding: 0.875rem 1rem;
    background: var(--white);
    color: var(--black);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .footer-newsletter-form button:hover {
    background: rgba(255, 255, 255, 0.9);
    transform: translateY(-1px);
  }

  .footer-bottom {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: 2rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  .footer-bottom p {
    color: rgba(255, 255, 255, 0.4);
    font-size: 0.875rem;
  }

  .footer-legal {
    display: flex;
    gap: 2rem;
  }

  .footer-legal a {
    color: rgba(255, 255, 255, 0.4);
    text-decoration: none;
    font-size: 0.875rem;
    transition: color 0.2s ease;
  }

  .footer-legal a:hover {
    color: rgba(255, 255, 255, 0.7);
  }

  .footer-social {
    display: flex;
    gap: 0.75rem;
  }

  .footer-social a {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    color: var(--white);
    transition: all 0.2s ease;
  }

  .footer-social a:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
  }

  @media (max-width: 1024px) {
    .footer-grid {
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
    }
  }

  @media (max-width: 640px) {
    .footer-grid {
      grid-template-columns: 1fr;
      gap: 2.5rem;
    }

    .footer-bottom {
      flex-direction: column;
      gap: 1.5rem;
      text-align: center;
    }

    .footer-legal {
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
    }
  }
</style>

{% schema %}
{
  "name": "Footer",
  "tag": "footer",
  "class": "footer-section",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Take back control of your focus with the device that actually works."
    },
    {
      "type": "text",
      "id": "newsletter_heading",
      "label": "Newsletter Heading",
      "default": "Get Productivity Tips"
    },
    {
      "type": "text",
      "id": "newsletter_text",
      "label": "Newsletter Text",
      "default": "Join our newsletter for tips and Ground updates."
    },
    {
      "type": "text",
      "id": "newsletter_placeholder",
      "label": "Email Placeholder",
      "default": "Enter your email"
    },
    {
      "type": "link_list",
      "id": "legal_menu",
      "label": "Legal Links Menu"
    },
    {
      "type": "url",
      "id": "social_instagram",
      "label": "Instagram URL"
    },
    {
      "type": "url",
      "id": "social_twitter",
      "label": "Twitter URL"
    },
    {
      "type": "url",
      "id": "social_tiktok",
      "label": "TikTok URL"
    }
  ],
  "blocks": [
    {
      "type": "link_list",
      "name": "Link List",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Quick Links"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Footer",
      "blocks": [
        {
          "type": "link_list",
          "settings": {
            "heading": "Shop"
          }
        },
        {
          "type": "link_list",
          "settings": {
            "heading": "Support"
          }
        }
      ]
    }
  ]
}
{% endschema %}
